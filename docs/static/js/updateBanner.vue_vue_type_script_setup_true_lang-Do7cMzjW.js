import{d as P,r as d,C as S,D as Z,a as u,e as i,c as m,w as l,g as e,p as $,u as A,aO as G,h as c,Z as y,f as H,m as k}from"./index-sZgmdJNd.js";const J={class:"flex justify-end"},Q=P({name:"updateBanner",__name:"updateBanner",emits:["loading"],setup(K,{expose:h,emit:x}){const f=d(!1),v=d(""),g=d(null),t=d({}),n=d("a"),r=d(!1),U=p=>{p.url?r.value=!0:r.value=!1},B=(p,a)=>{r.value=!1},N=S(()=>v.value.includes("新增")),R=()=>{t.value.url=""},M=Z({title:[{required:!0,message:"请输入标题",trigger:"blur"}],url:[{required:!0,message:"请输入链接地址",trigger:["blur","change"]}]}),D=x,T=p=>{p.validate(a=>{if(a){if(t.value.id)k.success("修改成功！");else{if(!r.value)return k.error("请上传图片");k.success("新增成功！")}b(),D("loading")}})},b=()=>{t.value={},g.value.resetFields(),n.value="a",r.value=!1,f.value=!1};return h({title:v,dialog:f,formData:t,radio:n}),(p,a)=>{const j=u("el-icon"),z=u("el-upload"),s=u("el-form-item"),E=u("el-image"),C=u("el-input"),V=u("el-radio"),F=u("el-radio-group"),_=u("el-option"),q=u("el-select"),w=u("el-button"),I=u("el-form"),O=u("el-dialog");return i(),m(O,{"destroy-on-close":"",modelValue:f.value,"onUpdate:modelValue":a[6]||(a[6]=o=>f.value=o),title:v.value,width:"30%",onClose:b},{default:l(()=>[e(I,{model:t.value,ref_key:"formRef",ref:g,rules:M,"label-width":"auto",class:"pr-2 pl-2",style:{width:"80%"}},{default:l(()=>[N.value?(i(),m(s,{key:0,style:{"font-weight":"700"},label:"图片",prop:"image"},{default:l(()=>[e(z,{action:"#",limit:1,"on-change":U,"on-remove":B,"list-type":"picture-card","auto-upload":!1,class:$({hideImg:r.value})},{default:l(()=>[e(j,null,{default:l(()=>[e(A(G))]),_:1})]),_:1},8,["class"])]),_:1})):(i(),m(s,{key:1,style:{"font-weight":"700"},label:"图片",prop:"image"},{default:l(()=>[e(E,{src:t.value.image,class:"TableimgPic"},null,8,["src"])]),_:1})),e(s,{label:"标题",prop:"title"},{default:l(()=>[e(C,{modelValue:t.value.title,"onUpdate:modelValue":a[0]||(a[0]=o=>t.value.title=o),modelModifiers:{trim:!0},placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),e(s,{label:"类型"},{default:l(()=>[e(F,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=o=>n.value=o),onChange:R},{default:l(()=>[e(V,{label:"a",value:"a"},{default:l(()=>[c("产品详情")]),_:1}),e(V,{label:"b",value:"b"},{default:l(()=>[c("文章详情")]),_:1}),e(V,{label:"c",value:"c"},{default:l(()=>[c("链接地址")]),_:1})]),_:1},8,["modelValue"])]),_:1}),n.value=="a"?(i(),m(s,{key:2,label:"链接地址",prop:"url"},{default:l(()=>[e(q,{modelValue:t.value.url,"onUpdate:modelValue":a[2]||(a[2]=o=>t.value.url=o),filterable:""},{default:l(()=>[e(_,{label:"三湘银行-湘业贷",value:"https://y.qq.com/n/ryqq/playlist/9141033696"}),e(_,{label:"苏宁银行-票e贷",value:"苏宁银行-票e贷"})]),_:1},8,["modelValue"])]),_:1})):y("",!0),n.value=="b"?(i(),m(s,{key:3,label:"链接地址",prop:"url"},{default:l(()=>[e(q,{modelValue:t.value.url,"onUpdate:modelValue":a[3]||(a[3]=o=>t.value.url=o),filterable:""},{default:l(()=>[e(_,{label:"天马行空",value:"https://y.qq.com/n/ryqq/playlist/9094276126"}),e(_,{label:"新政策",value:"https://music.163.com/"})]),_:1},8,["modelValue"])]),_:1})):y("",!0),n.value=="c"?(i(),m(s,{key:4,label:"链接地址",prop:"url"},{default:l(()=>[e(C,{modelValue:t.value.url,"onUpdate:modelValue":a[4]||(a[4]=o=>t.value.url=o),modelModifiers:{trim:!0},placeholder:"请输入外链地址"},null,8,["modelValue"])]),_:1})):y("",!0),H("div",J,[e(w,{onClick:b},{default:l(()=>[c("取消")]),_:1}),e(w,{type:"primary",onClick:a[5]||(a[5]=o=>T(g.value))},{default:l(()=>[c(" 确定 ")]),_:1})])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{Q as _};
