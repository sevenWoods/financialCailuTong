var O=Object.defineProperty;var T=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var $=(i,n,a)=>n in i?O(i,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[n]=a,V=(i,n)=>{for(var a in n||(n={}))Q.call(n,a)&&$(i,a,n[a]);if(T)for(var a of T(n))W.call(n,a)&&$(i,a,n[a]);return i};var j=(i,n,a)=>new Promise((x,h)=>{var k=t=>{try{v(a.next(t))}catch(b){h(b)}},d=t=>{try{v(a.throw(t))}catch(b){h(b)}},v=t=>t.done?x(t.value):Promise.resolve(t.value).then(k,d);v((a=a.apply(i,n)).next())});import{_ as X}from"./index.vue_vue_type_script_setup_true_lang-B_ixX2jK.js";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-CzYjbSnt.js";import Z from"./updateAdmin-C-Mis-1X.js";import{A as ee}from"./commonData-D1lyaN8h.js";import{d as le,r as m,o as ae,c as E,w as l,a as s,b as te,e as y,g as e,f as S,h as f,i as oe,j as A,E as ne,m as B,_ as se}from"./index-5Y9eNcg_.js";import"./hooks-D2WalWZG.js";import"./at2-C9NqoX9j.js";import"./at3-B1Wux6Wy.js";const ie={class:"w-60"},re={key:0},de={key:1},ue={key:2},ce={class:"dialog-footer"},me=le({name:"administrator",__name:"index",setup(i){const n=m(null),a=[{label:"角色",prop:"role_id",type:"select1"},{label:"职位",prop:"job",type:"select2"},{label:"开始时间",prop:"start",type:"timeStart"},{label:"结束时间",prop:"end",type:"timeEnd"}],x=[{label:"全部",value:"all"},{label:"员工角色",value:"staff"},{label:"开发角色",value:"develop"},{label:"经理角色",value:"admin"},{label:"马总角色",value:"manager"}],h=[{label:"全部",value:"all"},{label:"管理员",value:"admin"},{label:"员工",value:"staff"},{label:"大B",value:"quality"}],k=m(null),d=m(!1),v=m(ee),t=m(null),b=c=>{ne.confirm("您确定要删除吗?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>j(this,null,function*(){B.success("删除数据成功！"),d.value=!0,setTimeout(()=>{d.value=!1},400)}))},M=c=>{t.value.title="修改管理员",t.value.dialog=!0,t.value.formData=V({},c)},N=c=>{c.validate(r=>{r&&(t.value.formData.id?B.success("修改管理员成功！"):B.success("添加管理员成功！"),t.value.dialog=!1,d.value=!0,setTimeout(()=>{d.value=!1},400))})},U=()=>{t.value.title="新增管理员",t.value.dialog=!0},g=m(!1),p=m({}),I=c=>{g.value=!0,p.value=V({},c)},C=()=>{g.value=!1,d.value=!0,setTimeout(()=>{d.value=!1},400)};return ae(()=>{k.value.total=3}),(c,r)=>{const P=s("el-alert"),_=s("el-button"),u=s("el-table-column"),q=s("el-image"),z=s("el-table"),F=s("el-input"),D=s("el-form-item"),w=s("el-option"),L=s("el-select"),G=s("el-form"),H=s("el-dialog"),J=s("el-card"),K=te("loading");return y(),E(J,null,{default:l(()=>[e(X,{ref_key:"searchRef",ref:n,searchFormDtata:a,formSelect1:x,formSelect2:h,"refresh-list":C},{hint:l(()=>[S("div",ie,[e(P,{title:"仅演示，操作后不生效",type:"info",center:"",closable:!1,"show-icon":""})])]),btn:l(()=>[e(_,{type:"primary",onClick:U,class:"mr-2"},{default:l(()=>[f("添加")]),_:1})]),_:1},512),oe((y(),E(z,{"element-loading-text":"加载中...",data:v.value,"max-height":"550",style:{width:"100%"},"header-cell-style":{color:"#606266","text-align":"center",backgroundColor:"#f5f7fa",fontSize:"15px"},"cell-style":{textAlign:"center"}},{default:l(()=>[e(u,{prop:"id",label:"ID",width:"100"}),e(u,{prop:"name",label:"用户名"}),e(u,{prop:"avatar",label:"头像"},{default:l(({row:o})=>[e(q,{src:o.avatar,class:"TableimgPic"},null,8,["src"])]),_:1}),e(u,{prop:"role_name",label:"角色名"}),e(u,{prop:"mobile",label:"手机号"}),e(u,{prop:"job",label:"职位"},{default:l(({row:o})=>[o.job=="admin"?(y(),A("span",re,"管理员")):o.job=="staff"?(y(),A("span",de,"员工")):(y(),A("span",ue,"大B"))]),_:1}),e(u,{prop:"email",label:"邮箱"}),e(u,{fixed:"right",width:"230",label:"操作"},{default:l(({row:o})=>[e(_,{type:"warning",onClick:R=>M(o)},{default:l(()=>[f("修改")]),_:2},1032,["onClick"]),e(_,{type:"danger",onClick:R=>I(o)},{default:l(()=>[f("分配")]),_:2},1032,["onClick"]),e(_,{type:"danger",onClick:R=>b(o)},{default:l(()=>[f("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[K,d.value,void 0,{lock:!0}]]),e(Y,{ref_key:"paginaRef",ref:k,onRefreshPage:C},null,512),e(Z,{ref_key:"updateRef",ref:t,onSubmitAdmin:N},null,512),e(H,{"destroy-on-close":"",modelValue:g.value,"onUpdate:modelValue":r[3]||(r[3]=o=>g.value=o),title:"分配角色",width:"45%"},{footer:l(()=>[S("div",ce,[e(_,{onClick:r[2]||(r[2]=o=>g.value=!1)},{default:l(()=>[f("取消")]),_:1}),e(_,{type:"primary",onClick:C},{default:l(()=>[f(" 确定 ")]),_:1})])]),default:l(()=>[e(G,{model:p.value,"label-width":"auto",style:{"max-width":"770px"}},{default:l(()=>[e(D,{label:"用户名"},{default:l(()=>[e(F,{modelValue:p.value.name,"onUpdate:modelValue":r[0]||(r[0]=o=>p.value.name=o),modelModifiers:{trim:!0},disabled:""},null,8,["modelValue"])]),_:1}),e(D,{label:"角色"},{default:l(()=>[e(L,{modelValue:p.value.role_name,"onUpdate:modelValue":r[1]||(r[1]=o=>p.value.role_name=o),placeholder:"请您选择分配的角色",style:{width:"370px"}},{default:l(()=>[e(w,{label:"开发角色",value:"开发角色"}),e(w,{label:"马总角色",value:"马总角色"}),e(w,{label:"经理角色",value:"经理角色"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1})}}}),xe=se(me,[["__scopeId","data-v-909b124e"]]);export{xe as default};
