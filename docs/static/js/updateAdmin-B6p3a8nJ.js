var $=Object.defineProperty;var q=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var x=(d,n,u)=>n in d?$(d,n,{enumerable:!0,configurable:!0,writable:!0,value:u}):d[n]=u,k=(d,n)=>{for(var u in n||(n={}))D.call(n,u)&&x(d,u,n[u]);if(q)for(var u of q(n))E.call(n,u)&&x(d,u,n[u]);return d};import{d as I,b as f,L as T,K,e as P,r,o as v,c as b,w as t,h as e,s as Q,u as S,aQ as Z,j as G,q as H,F as J,z as O,g as W,a as M,_ as X}from"./index-jOGrJ0Py.js";const Y={class:"flex justify-end"},ee=I({name:"updateAdmin",__name:"updateAdmin",setup(d,{expose:n}){const u=f(!1),g=f(""),V=f(null),w={mobile:null,name:"",nickname:"",email:"",password:"",avatar:"",job:null,user_id:null},N=[{name:"倪仁龙(1224)",value:1224,group:"staff"},{name:"金健(544)",value:544,group:"staff"},{name:"刘欢(5)",value:5,group:"quality"}],a=f(k({},w)),A=T({job:[{required:!0,message:"请您输入类型名称",trigger:"change"}],name:[{required:!0,message:"请您输入用户名",trigger:"blur"},{validator:(i,l,c)=>{if(/^[A-Za-z0-9]+$/.test(l))return c();c(new Error("只能输入英文和数字"))},trigger:"blur"}],mobile:[{required:!0,message:"请您输入的手机号",trigger:"blur"}],user_id:[{required:!0,message:"请您选择用户",trigger:"change"}]}),y=()=>{a.value=k({},w),V.value.resetFields(),m.value=!1,u.value=!1},m=f(!1),B=i=>{i.url?m.value=!0:m.value=!1},h=(i,l)=>{m.value=!1},z=K(()=>g.value.includes("新增"));return P(()=>{}),n({dialog:u,formData:a,title:g,canceList:y}),(i,l)=>{const c=r("el-icon"),j=r("el-upload"),s=r("el-form-item"),F=r("el-image"),_=r("el-option"),C=r("el-select"),p=r("el-input"),U=r("el-button"),L=r("el-form"),R=r("el-dialog");return v(),b(R,{"destroy-on-close":"",modelValue:u.value,"onUpdate:modelValue":l[8]||(l[8]=o=>u.value=o),title:g.value,width:"40%",onClose:y},{default:t(()=>[e(L,{model:a.value,ref_key:"formRef",ref:V,"label-width":"auto",rules:A,class:"pr-2 pl-2"},{default:t(()=>[z.value?(v(),b(s,{key:0,style:{"font-weight":"700"},label:"用户头像",prop:"avatar"},{default:t(()=>[e(j,{action:"#",limit:1,"on-change":B,"on-remove":h,"list-type":"picture-card","auto-upload":!1,class:Q({hideImg:m.value})},{default:t(()=>[e(c,null,{default:t(()=>[e(S(Z))]),_:1})]),_:1},8,["class"])]),_:1})):(v(),b(s,{key:1,style:{"font-weight":"700"},label:"用户头像",prop:"avatar"},{default:t(()=>[e(F,{src:a.value.avatar,class:"TableimgPic"},null,8,["src"])]),_:1})),e(s,{label:"类型",prop:"job"},{default:t(()=>[e(C,{modelValue:a.value.job,"onUpdate:modelValue":l[0]||(l[0]=o=>a.value.job=o),placeholder:"请选择类型",style:{width:"35%"}},{default:t(()=>[e(_,{label:"管理员",value:"admin"}),e(_,{label:"员工",value:"staff"}),e(_,{label:"大B",value:"quality"})]),_:1},8,["modelValue"])]),_:1}),a.value.job=="staff"||a.value.job=="quality"?(v(),b(s,{key:2,label:"绑定用户",prop:"user_id"},{default:t(()=>[e(C,{modelValue:a.value.user_id,"onUpdate:modelValue":l[1]||(l[1]=o=>a.value.user_id=o),placeholder:"请选择用户"},{default:t(()=>[(v(),G(J,null,H(N,o=>e(_,{key:o.value,label:o.name,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})):O("",!0),e(s,{label:"用户名",prop:"name"},{default:t(()=>[e(p,{modelValue:a.value.name,"onUpdate:modelValue":l[2]||(l[2]=o=>a.value.name=o),modelModifiers:{trim:!0},placeholder:`请输入用户名登录时需要—英文或者数字\r
`},null,8,["modelValue"])]),_:1}),e(s,{label:"手机号",prop:"mobile"},{default:t(()=>[e(p,{modelValue:a.value.mobile,"onUpdate:modelValue":l[3]||(l[3]=o=>a.value.mobile=o),modelModifiers:{trim:!0},autocomplete:"off",placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),e(s,{label:"密码",prop:"password"},{default:t(()=>[e(p,{modelValue:a.value.password,"onUpdate:modelValue":l[4]||(l[4]=o=>a.value.password=o),modelModifiers:{trim:!0},placeholder:"请输入登录密码"},null,8,["modelValue"])]),_:1}),e(s,{label:"昵称",prop:"nickname"},{default:t(()=>[e(p,{modelValue:a.value.nickname,"onUpdate:modelValue":l[5]||(l[5]=o=>a.value.nickname=o),modelModifiers:{trim:!0},placeholder:"请输入昵称"},null,8,["modelValue"])]),_:1}),e(s,{label:"邮箱",prop:"email"},{default:t(()=>[e(p,{modelValue:a.value.email,"onUpdate:modelValue":l[6]||(l[6]=o=>a.value.email=o),modelModifiers:{email:!0},autocomplete:"off",placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),W("div",Y,[e(U,{onClick:y},{default:t(()=>[M("取消")]),_:1}),e(U,{type:"primary",onClick:l[7]||(l[7]=o=>i.$emit("submitAdmin",V.value))},{default:t(()=>[M(" 确定 ")]),_:1})])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),te=X(ee,[["__scopeId","data-v-786fa175"]]);export{te as default};
