var O=Object.defineProperty;var q=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var R=(i,n,a)=>n in i?O(i,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[n]=a,V=(i,n)=>{for(var a in n||(n={}))Q.call(n,a)&&R(i,a,n[a]);if(q)for(var a of q(n))W.call(n,a)&&R(i,a,n[a]);return i};var T=(i,n,a)=>new Promise((x,k)=>{var h=t=>{try{v(a.next(t))}catch(b){k(b)}},r=t=>{try{v(a.throw(t))}catch(b){k(b)}},v=t=>t.done?x(t.value):Promise.resolve(t.value).then(h,r);v((a=a.apply(i,n)).next())});import{_ as X}from"./index.vue_vue_type_script_setup_true_lang-CYyR03fF.js";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-B2PoIf_d.js";import{a as Z,b as ee}from"./at2-C9NqoX9j.js";import{a as le}from"./at3-B1Wux6Wy.js";import ae from"./updateAdmin-B9EWw7ie.js";import{d as te,r as u,o as oe,c as $,w as l,a as s,b as ne,e as y,g as e,f as E,h as f,i as se,j as B,E as ie,m as j,_ as me}from"./index-D2IFQwKC.js";import"./hooks-B8cjGsHC.js";const re={class:"w-60"},de={key:0},ce={key:1},ue={key:2},_e={class:"dialog-footer"},pe=te({name:"administrator",__name:"index",setup(i){const n=u(null),a=[{label:"角色",prop:"role_id",type:"select1"},{label:"职位",prop:"job",type:"select2"},{label:"开始时间",prop:"start",type:"timeStart"},{label:"结束时间",prop:"end",type:"timeEnd"}],x=[{label:"全部",value:"all"},{label:"员工角色",value:"staff"},{label:"开发角色",value:"develop"},{label:"经理角色",value:"admin"},{label:"马总角色",value:"manager"}],k=[{label:"全部",value:"all"},{label:"管理员",value:"admin"},{label:"员工",value:"staff"},{label:"大B",value:"quality"}],h=u(null),r=u(!1),v=u([{id:1,name:"administrator",mobile:"18211115325",email:"2942847@qq.com",job:"admin",role_name:"开发角色",nickname:"一只猿",avatar:Z},{id:2,name:"ddx",mobile:"13166666666",email:"1462980@qq.com",job:"admin",role_name:"马总角色",nickname:"琨琨",avatar:ee},{id:3,name:"18255145326",mobile:"18211115326",email:"2942847@qq.com",job:"admin",role_name:"经理角色",nickname:"赵日天",avatar:le}]),t=u(null),b=c=>{ie.confirm("您确定要删除吗?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>T(this,null,function*(){j.success("删除数据成功！"),r.value=!0,setTimeout(()=>{r.value=!1},400)}))},S=c=>{t.value.title="修改管理员",t.value.dialog=!0,t.value.formData=V({},c)},M=c=>{c.validate(m=>{m&&(t.value.formData.id?j.success("修改管理员成功！"):j.success("添加管理员成功！"),t.value.dialog=!1,r.value=!0,setTimeout(()=>{r.value=!1},400))})},N=()=>{t.value.title="新增管理员",t.value.dialog=!0},g=u(!1),_=u({}),U=c=>{g.value=!0,_.value=V({},c)},C=()=>{g.value=!1,r.value=!0,setTimeout(()=>{r.value=!1},400)};return oe(()=>{h.value.total=3}),(c,m)=>{const I=s("el-alert"),p=s("el-button"),d=s("el-table-column"),P=s("el-image"),z=s("el-table"),F=s("el-input"),A=s("el-form-item"),w=s("el-option"),L=s("el-select"),G=s("el-form"),H=s("el-dialog"),J=s("el-card"),K=ne("loading");return y(),$(J,null,{default:l(()=>[e(X,{ref_key:"searchRef",ref:n,searchFormDtata:a,formSelect1:x,formSelect2:k,"refresh-list":C},{hint:l(()=>[E("div",re,[e(I,{title:"仅演示，操作后不生效",type:"info",center:"",closable:!1,"show-icon":""})])]),btn:l(()=>[e(p,{type:"primary",onClick:N,class:"mr-2"},{default:l(()=>[f("添加")]),_:1})]),_:1},512),se((y(),$(z,{"element-loading-text":"加载中...",data:v.value,"max-height":"550",style:{width:"100%"},"header-cell-style":{color:"#606266","text-align":"center",backgroundColor:"#f5f7fa",fontSize:"15px"},"cell-style":{textAlign:"center"}},{default:l(()=>[e(d,{prop:"id",label:"ID",width:"100"}),e(d,{prop:"name",label:"用户名"}),e(d,{prop:"avatar",label:"头像"},{default:l(({row:o})=>[e(P,{src:o.avatar,class:"TableimgPic"},null,8,["src"])]),_:1}),e(d,{prop:"role_name",label:"角色名"}),e(d,{prop:"mobile",label:"手机号"}),e(d,{prop:"job",label:"职位"},{default:l(({row:o})=>[o.job=="admin"?(y(),B("span",de,"管理员")):o.job=="staff"?(y(),B("span",ce,"员工")):(y(),B("span",ue,"大B"))]),_:1}),e(d,{prop:"email",label:"邮箱"}),e(d,{fixed:"right",width:"230",label:"操作"},{default:l(({row:o})=>[e(p,{type:"warning",onClick:D=>S(o)},{default:l(()=>[f("修改")]),_:2},1032,["onClick"]),e(p,{type:"danger",onClick:D=>U(o)},{default:l(()=>[f("分配")]),_:2},1032,["onClick"]),e(p,{type:"danger",onClick:D=>b(o)},{default:l(()=>[f("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[K,r.value,void 0,{lock:!0}]]),e(Y,{ref_key:"paginaRef",ref:h,onRefreshPage:C},null,512),e(ae,{ref_key:"updateRef",ref:t,onSubmitAdmin:M},null,512),e(H,{"destroy-on-close":"",modelValue:g.value,"onUpdate:modelValue":m[3]||(m[3]=o=>g.value=o),title:"分配角色",width:"45%"},{footer:l(()=>[E("div",_e,[e(p,{onClick:m[2]||(m[2]=o=>g.value=!1)},{default:l(()=>[f("取消")]),_:1}),e(p,{type:"primary",onClick:C},{default:l(()=>[f(" 确定 ")]),_:1})])]),default:l(()=>[e(G,{model:_.value,"label-width":"auto",style:{"max-width":"770px"}},{default:l(()=>[e(A,{label:"用户名"},{default:l(()=>[e(F,{modelValue:_.value.name,"onUpdate:modelValue":m[0]||(m[0]=o=>_.value.name=o),modelModifiers:{trim:!0},disabled:""},null,8,["modelValue"])]),_:1}),e(A,{label:"角色"},{default:l(()=>[e(L,{modelValue:_.value.role_name,"onUpdate:modelValue":m[1]||(m[1]=o=>_.value.role_name=o),placeholder:"请您选择分配的角色",style:{width:"370px"}},{default:l(()=>[e(w,{label:"开发角色",value:"开发角色"}),e(w,{label:"马总角色",value:"马总角色"}),e(w,{label:"经理角色",value:"经理角色"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1})}}}),Ce=me(pe,[["__scopeId","data-v-2aafd769"]]);export{Ce as default};
