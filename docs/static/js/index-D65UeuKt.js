var H=Object.defineProperty;var A=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var R=(s,n,a)=>n in s?H(s,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[n]=a,w=(s,n)=>{for(var a in n||(n={}))J.call(n,a)&&R(s,a,n[a]);if(A)for(var a of A(n))Q.call(n,a)&&R(s,a,n[a]);return s};var q=(s,n,a)=>new Promise((x,k)=>{var h=t=>{try{v(a.next(t))}catch(b){k(b)}},m=t=>{try{v(a.throw(t))}catch(b){k(b)}},v=t=>t.done?x(t.value):Promise.resolve(t.value).then(h,m);v((a=a.apply(s,n)).next())});import{_ as X,a as Y}from"./index.vue_vue_type_script_setup_true_lang-DLwLuHX-.js";import{a as Z}from"./at3-B1Wux6Wy.js";import ee from"./updateAdmin-CO8z0z1C.js";import{d as le,r as u,o as ae,c as $,w as l,a as i,b as te,e as y,g as e,f as E,h as f,i as oe,j as V,E as ne,m as B,_ as ie}from"./index-DNEdvGXH.js";import"./hooks-DpELzp7X.js";const se="/financialCailuTong/static/jpg/at1-D5Kv6RnF.jpg",de="/financialCailuTong/static/jpg/at2-CWOox_kt.jpg",me={class:"w-60"},ce={key:0},re={key:1},ue={key:2},_e={class:"dialog-footer"},pe=le({name:"administrator",__name:"index",setup(s){const n=u(null),a=[{label:"角色",prop:"role_id",type:"select1"},{label:"职位",prop:"job",type:"select2"},{label:"开始时间",prop:"start",type:"timeStart"},{label:"结束时间",prop:"end",type:"timeEnd"}],x=[{label:"全部",value:"all"},{label:"员工角色",value:"staff"},{label:"开发角色",value:"develop"},{label:"经理角色",value:"admin"},{label:"马总角色",value:"manager"}],k=[{label:"全部",value:"all"},{label:"管理员",value:"admin"},{label:"员工",value:"staff"},{label:"大B",value:"quality"}],h=u(null),m=u(!1),v=u([{id:1,name:"administrator",mobile:"18211115325",email:"2942847@qq.com",job:"admin",role_name:"开发角色",nickname:"一只猿",avatar:se},{id:2,name:"ddx",mobile:"13166666666",email:"1462980@qq.com",job:"admin",role_name:"马总角色",nickname:"琨琨",avatar:de},{id:3,name:"18255145326",mobile:"18211115326",email:"2942847@qq.com",job:"admin",role_name:"经理角色",nickname:"赵日天",avatar:Z}]),t=u(null),b=r=>{ne.confirm("您确定要删除吗?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>q(this,null,function*(){B.success("删除数据成功！"),m.value=!0,setTimeout(()=>{m.value=!1},400)}))},S=r=>{t.value.title="修改管理员",t.value.dialog=!0,t.value.formData=w({},r)},M=r=>{r.validate(d=>{d&&(t.value.formData.id?B.success("修改管理员成功！"):B.success("添加管理员成功！"),t.value.dialog=!1,m.value=!0,setTimeout(()=>{m.value=!1},400))})},N=()=>{t.value.title="新增管理员",t.value.dialog=!0},g=u(!1),_=u({}),U=r=>{g.value=!0,_.value=w({},r)},C=()=>{g.value=!1,m.value=!0,setTimeout(()=>{m.value=!1},400)};return ae(()=>{h.value.total=3}),(r,d)=>{const F=i("el-alert"),p=i("el-button"),c=i("el-table-column"),I=i("el-image"),P=i("el-table"),z=i("el-input"),D=i("el-form-item"),j=i("el-option"),K=i("el-select"),L=i("el-form"),O=i("el-dialog"),W=i("el-card"),G=te("loading");return y(),$(W,null,{default:l(()=>[e(X,{ref_key:"searchRef",ref:n,searchFormDtata:a,formSelect1:x,formSelect2:k,"refresh-list":C},{hint:l(()=>[E("div",me,[e(F,{title:"仅演示，操作后不生效",type:"info",center:"",closable:!1,"show-icon":""})])]),btn:l(()=>[e(p,{type:"primary",onClick:N,class:"mr-2"},{default:l(()=>[f("添加")]),_:1})]),_:1},512),oe((y(),$(P,{"element-loading-text":"加载中...",data:v.value,"max-height":"550",style:{width:"100%"},"header-cell-style":{color:"#606266","text-align":"center",backgroundColor:"#f5f7fa",fontSize:"15px"},"cell-style":{textAlign:"center"}},{default:l(()=>[e(c,{prop:"id",label:"ID",width:"100"}),e(c,{prop:"name",label:"用户名"}),e(c,{prop:"avatar",label:"头像"},{default:l(({row:o})=>[e(I,{src:o.avatar,class:"TableimgPic"},null,8,["src"])]),_:1}),e(c,{prop:"role_name",label:"角色名"}),e(c,{prop:"mobile",label:"手机号"}),e(c,{prop:"job",label:"职位"},{default:l(({row:o})=>[o.job=="admin"?(y(),V("span",ce,"管理员")):o.job=="staff"?(y(),V("span",re,"员工")):(y(),V("span",ue,"大B"))]),_:1}),e(c,{prop:"email",label:"邮箱"}),e(c,{fixed:"right",width:"230",label:"操作"},{default:l(({row:o})=>[e(p,{type:"warning",onClick:T=>S(o)},{default:l(()=>[f("修改")]),_:2},1032,["onClick"]),e(p,{type:"danger",onClick:T=>U(o)},{default:l(()=>[f("分配")]),_:2},1032,["onClick"]),e(p,{type:"danger",onClick:T=>b(o)},{default:l(()=>[f("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[G,m.value,void 0,{lock:!0}]]),e(Y,{ref_key:"paginaRef",ref:h,onRefreshPage:C},null,512),e(ee,{ref_key:"updateRef",ref:t,onSubmitAdmin:M},null,512),e(O,{"destroy-on-close":"",modelValue:g.value,"onUpdate:modelValue":d[3]||(d[3]=o=>g.value=o),title:"分配角色",width:"45%"},{footer:l(()=>[E("div",_e,[e(p,{onClick:d[2]||(d[2]=o=>g.value=!1)},{default:l(()=>[f("取消")]),_:1}),e(p,{type:"primary",onClick:C},{default:l(()=>[f(" 确定 ")]),_:1})])]),default:l(()=>[e(L,{model:_.value,"label-width":"auto",style:{"max-width":"770px"}},{default:l(()=>[e(D,{label:"用户名"},{default:l(()=>[e(z,{modelValue:_.value.name,"onUpdate:modelValue":d[0]||(d[0]=o=>_.value.name=o),modelModifiers:{trim:!0},disabled:""},null,8,["modelValue"])]),_:1}),e(D,{label:"角色"},{default:l(()=>[e(K,{modelValue:_.value.role_name,"onUpdate:modelValue":d[1]||(d[1]=o=>_.value.role_name=o),placeholder:"请您选择分配的角色",style:{width:"370px"}},{default:l(()=>[e(j,{label:"开发角色",value:"开发角色"}),e(j,{label:"马总角色",value:"马总角色"}),e(j,{label:"经理角色",value:"经理角色"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1})}}}),he=ie(pe,[["__scopeId","data-v-2aafd769"]]);export{he as default};
